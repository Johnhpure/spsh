import{C as e,E as t,O as ee,S as n,T as r,a as i,b as a,c as o,d as s,f as c,g as l,h as u,i as d,l as f,m as p,n as m,o as h,p as g,s as _,t as v,u as y,v as b,w as x,y as S}from"./index--W4qwciW.js";import{n as C,t as w}from"./ErrorState-BNKmJgS4.js";var T={class:`record-detail-container`},E={class:`detail-content`},D={class:`product-info`},te={class:`product-image-section`},O={class:`image-error`},k={class:`product-details`},A={key:0,class:`api-section`},j={class:`json-content`},M={key:1,class:`api-section`},N={class:`json-content`},P={key:0,class:`api-section`},F={class:`json-content`},I={key:1,class:`api-section`},L={class:`json-content`},R={key:0,class:`api-section`},z={class:`json-content`},B={key:1,class:`api-section`},V={class:`json-content`},H=h(u({__name:`RecordDetail`,setup(ee){let u=i(),h=d(),H=x(!1),U=x(!1),W=x(null),G=o(()=>W.value?!!(W.value.textRequest||W.value.textResponse||W.value.imageRequest||W.value.imageResponse||W.value.scopeRequest||W.value.scopeResponse):!1),K=async()=>{let e=h.params.id;if(!e){v.error(`记录ID不存在`),q();return}H.value=!0,U.value=!1;try{W.value=await C.getRecordById(e)}catch{U.value=!0,W.value=null}finally{H.value=!1}},q=()=>{u.push(`/`)},J=e=>{try{let t=JSON.parse(e);return JSON.stringify(t,null,2)}catch{return e}},Y=e=>({text:`primary`,image:`success`,business_scope:`warning`})[e]||`info`,X=e=>({text:`文本审核`,image:`图片审核`,business_scope:`经营范围审核`})[e]||e,Z=e=>new Date(e).toLocaleString(`zh-CN`,{year:`numeric`,month:`2-digit`,day:`2-digit`,hour:`2-digit`,minute:`2-digit`,second:`2-digit`});return l(()=>{K()}),(ee,i)=>{let o=S(`el-page-header`),l=S(`el-icon`),u=S(`el-image`),d=S(`el-descriptions-item`),h=S(`el-descriptions`),v=S(`el-card`),x=S(`el-tag`),C=S(`el-text`),Q=S(`el-collapse-item`),ne=S(`el-collapse`),$=S(`el-empty`),re=a(`loading`);return b(),c(`div`,T,[p(o,{onBack:q,title:`返回列表`},{content:n(()=>[...i[0]||=[f(`span`,{class:`page-title`},`审核记录详情`,-1)]]),_:1}),U.value&&!H.value?(b(),y(w,{key:0,title:`加载失败`,"sub-title":`审核记录详情加载失败，请点击重试按钮重新加载`,onRetry:K})):s(``,!0),e((b(),c(`div`,E,[!H.value&&!U.value&&W.value?(b(),c(_,{key:0},[p(v,{class:`info-card`,shadow:`hover`},{header:n(()=>[...i[1]||=[f(`div`,{class:`card-header`},[f(`span`,null,`商品基本信息`)],-1)]]),default:n(()=>[f(`div`,D,[f(`div`,te,[W.value.productImage?(b(),y(u,{key:0,src:W.value.productImage,"preview-src-list":[W.value.productImage],fit:`cover`,class:`product-image`},{error:n(()=>[f(`div`,O,[p(l,null,{default:n(()=>[p(r(m))]),_:1}),i[2]||=f(`span`,null,`图片加载失败`,-1)])]),_:1},8,[`src`,`preview-src-list`])):s(``,!0)]),f(`div`,k,[p(h,{column:1,border:``},{default:n(()=>[p(d,{label:`商品ID`},{default:n(()=>[g(t(W.value.productId),1)]),_:1}),p(d,{label:`商品标题`},{default:n(()=>[g(t(W.value.productTitle),1)]),_:1})]),_:1})])])]),_:1}),p(v,{class:`info-card`,shadow:`hover`},{header:n(()=>[...i[3]||=[f(`div`,{class:`card-header`},[f(`span`,null,`审核信息`)],-1)]]),default:n(()=>[p(h,{column:2,border:``},{default:n(()=>[p(d,{label:`审核阶段`},{default:n(()=>[p(x,{type:Y(W.value.auditStage)},{default:n(()=>[g(t(X(W.value.auditStage)),1)]),_:1},8,[`type`])]),_:1}),p(d,{label:`失败原因`},{default:n(()=>[g(t(W.value.rejectionReason),1)]),_:1}),p(d,{label:`提交时间`},{default:n(()=>[g(t(Z(W.value.submitTime)),1)]),_:1}),p(d,{label:`AI处理时间`},{default:n(()=>[g(t(W.value.aiProcessingTime)+` ms `,1)]),_:1}),p(d,{label:`记录创建时间`},{default:n(()=>[g(t(Z(W.value.createdAt)),1)]),_:1}),W.value.apiError?(b(),y(d,{key:0,label:`API错误`},{default:n(()=>[p(C,{type:`danger`},{default:n(()=>[g(t(W.value.apiError),1)]),_:1})]),_:1})):s(``,!0)]),_:1})]),_:1}),p(v,{class:`info-card`,shadow:`hover`},{header:n(()=>[...i[4]||=[f(`div`,{class:`card-header`},[f(`span`,null,`API请求/响应数据`)],-1)]]),default:n(()=>[p(ne,{accordion:``},{default:n(()=>[W.value.textRequest||W.value.textResponse?(b(),y(Q,{key:0,title:`文本审核`,name:`text`},{default:n(()=>[W.value.textRequest?(b(),c(`div`,A,[i[5]||=f(`h4`,null,`请求数据`,-1),f(`pre`,j,t(J(W.value.textRequest)),1)])):s(``,!0),W.value.textResponse?(b(),c(`div`,M,[i[6]||=f(`h4`,null,`响应数据`,-1),f(`pre`,N,t(J(W.value.textResponse)),1)])):s(``,!0)]),_:1})):s(``,!0),W.value.imageRequest||W.value.imageResponse?(b(),y(Q,{key:1,title:`图片审核`,name:`image`},{default:n(()=>[W.value.imageRequest?(b(),c(`div`,P,[i[7]||=f(`h4`,null,`请求数据`,-1),f(`pre`,F,t(J(W.value.imageRequest)),1)])):s(``,!0),W.value.imageResponse?(b(),c(`div`,I,[i[8]||=f(`h4`,null,`响应数据`,-1),f(`pre`,L,t(J(W.value.imageResponse)),1)])):s(``,!0)]),_:1})):s(``,!0),W.value.scopeRequest||W.value.scopeResponse?(b(),y(Q,{key:2,title:`经营范围审核`,name:`scope`},{default:n(()=>[W.value.scopeRequest?(b(),c(`div`,R,[i[9]||=f(`h4`,null,`请求数据`,-1),f(`pre`,z,t(J(W.value.scopeRequest)),1)])):s(``,!0),W.value.scopeResponse?(b(),c(`div`,B,[i[10]||=f(`h4`,null,`响应数据`,-1),f(`pre`,V,t(J(W.value.scopeResponse)),1)])):s(``,!0)]),_:1})):s(``,!0)]),_:1}),G.value?s(``,!0):(b(),y($,{key:0,description:`暂无API请求/响应数据`,"image-size":100}))]),_:1})],64)):s(``,!0),!H.value&&!U.value&&!W.value?(b(),y($,{key:1,description:`记录不存在`})):s(``,!0)])),[[re,H.value]])])}}}),[[`__scopeId`,`data-v-9d2ce4cc`]]);export{H as default};